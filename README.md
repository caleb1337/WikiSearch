# WikiSearch / ВикиПоиск
### Основная информация
Одностраничное приложение, реализует AJAX подход

Обмен данными с серверами Wikipedia происходит с помощью двух API: OpenSearch и Parse.

https://ru.wikipedia.org/wiki/Служебная:ApiSandbox

Также, в приложении реализована форма обратной связи. 
Для отправки почты использую Gmail. Чтобы отзывы приходили на почту, нужно сконфигурировать файл(создать файл) с расширением .env в корневой директории приложения
Файл .env конфигурируется в следующем виде:

EMAIL="сюда вставляете свой почтовый ящик Gmail"

APP_PASSWORD="сюда вставляете пароль приложения Gmail, подробнее см. ниже"

PORT="укажите порт по желанию"

Пароль приложения Gmail можно получить подключив двухэтапную аутентификацию (ДА) на вашем Gmail аккаунте.
После подключения ДА, переходим в настройки google аккаунта, далее вкладка "Безопастность" , далее окно "Вход в google" , Двухэтапная аутентификация, затем листаем в самый низ до "Пароли приложений"
Выбираем приложение "Почта", устройство - "Компьютер Windows". Не забудьте сохранить пароль локально на комп.

------------------
### О коде
Клиент-серверное одностраничное приложение. Хорошо иллюстрирует методологию AJAX. 
Первым делом, обрабатывается запрос который ввел пользователь в инпут. Запрос передается методом fetch в API OpenSearch (в коде, функция searchInWiki). Результатом получаем json с массивом ссылок. Из этого массива выбираем последний элемент массива, т.к в нем хранится самое точное совпадение (специфика хранения данных в Wikipedia) и достаем название страницы с помощью регулярного выражения /?<=wiki/gmi
Далее, внутри этой же функции (searchInWiki) асинхронно запускается функция getPageRender в которую первым параметром передаем название страницы полученное с помощью рег.выражения , а вторым место, куда будем рендерить страницу. После, с помощью fetch передаем в API Parse название страницы и пишем условие проверки редиректа , т.к результатом рендера может быть редирект (ссылка-перенаправление). Если есть редирект, то из ссылки достаем название страницы и делаем еще один fetch в API Parse. Получаем данные в виде raw text, убираем из них слэш '/' и вставляем методом insertAdjacentHTML.
